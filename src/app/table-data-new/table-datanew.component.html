<div class="w-full pl-10 pr-10 pb-10 ">

  <div class="w-full flex flex-col items-center justify-start gap-4">
    <div *ngIf="rowData?.length && colDefs?.length" class="w-full mb-4 flex items-center justify-start gap-4">
      <button
        class="rounded-md bg-slate-800 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-slate-700 focus:shadow-none active:bg-slate-700 hover:bg-slate-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
        (click)="onBtnExportCsv()">Download CSV file</button>

      <p *ngIf="rowData?.length" class="m-0 p-0">Total results: {{rowData?.length}}</p>
      <p *ngIf="colDefs?.length" class="m-0 p-0">Total columns: {{colDefs.length}}</p>

    </div>
    <div *ngIf="!rowData?.length" class="w-full flex flex-col items-start justify-start m-0">
      <p class="m-0 p-0 flex gap-2 items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none"
          viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" />
        </svg>
        Please be patient, the data is loading and this may take several minutes depending on the amount of data stored,
        your internet connection and the status of the service.</p>
    </div>
  </div>

  <div class="flex">

    <div class="flex-col   bg-white">
      <div *ngFor="let filter of colDefs index as i">
        <div *ngIf="i === 1">
          <div class="flex flex-col p-2">
            <app-filter-external (externalFilter)="setExternalFilter($event)" [nameFilter]="filter.field!" [gridApi]="gridApi"
              [data]="setFilter(filter.field!)"></app-filter-external>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="w-full h-[80vh] capitalize mt-2">
    <ag-grid-angular [isExternalFilterPresent]="isExternalFilterPresent"
      [doesExternalFilterPass]="doesExternalFilterPass" style="width: 100%; height: 100%;" [class]="'ag-theme-quartz'"
      [rowData]="rowData" [getRowId]="getRowId" [columnDefs]="colDefs" (gridReady)="onGridReady($event)" />
  </div>


</div>